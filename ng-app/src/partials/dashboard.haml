.row.dashboard.action-bar
  .columns.small-12
    %ul.left.action-bar-breadcrumb
      %li
        %a{ ui: { sref: 'dashboard' } }
          %span.glyphicon.glyphicon-th
          Dashboard
      %li
        %a{ href: '#' }
          %span.glyphicon.glyphicon-picture
          Habitat
    %ul.right.action-bar-filter
      %li.divider
      %li{ ng: { class: '{"active" : selectedArtifactTypes.augur}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-augur', ng: { model: 'selectedArtifactTypes.augur'} }
        %label{ for: 'selected-artifact-types-augur' } Augurs
      %li{ ng: { class: '{"active" : selectedArtifactTypes.factTable}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-fact-table', ng: { model: 'selectedArtifactTypes.factTable'} }
        %label{ for: 'selected-artifact-types-fact-table' } Fact tables
      %li{ ng: { class: '{"active" : selectedArtifactTypes.habitat}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-habitat', ng: { model: 'selectedArtifactTypes.habitat'} }
        %label{ for: 'selected-artifact-types-habitat' } Habitats
      %li.divider
      %li.action-bar-search
        %input{ placeholder: 'Type to search', type: 'text', ng: { model: 'artifactsQuery' }}

.row.dashboard.container
  .columns.small-12
    %ul.small-block-grid-2.medium-block-grid-3.large-block-grid-4
      %li
        .th
          %a{ href: '#/augurs/new' }
            .artefact-body.add-augur
              %p
                Add augur
              %p.icon
                %span.glyphicon.glyphicon-plus

      %li{'ng-repeat' => 'artifact in artifacts | filter: artifactsFilter'}
        .th.habitat{ ng: { if: 'artifact.type == "habitat"', class: 'artifact.colorScheme' }}
          %a{ href: '#/habitat/{{habitat.id}}' }
            .artefact-body
              %span.glyphicon.glyphicon-picture
              %h5.title
                {{ artifact.name }}
              %p{ ng: { if: 'artifact.augurCount < 1' } }
                No Augurs
              %p{ ng: { if: 'artifact.augurCount === 1' } }
                One Augur
              %p{ ng: { if: 'artifact.augurCount > 1' } }
                {{ artifact.augurCount }} Augurs


        .th.augur{ ng: { if: 'artifact.type == "augur"', class: 'artifact.colorScheme' }}
          %a{ ui: { sref: 'augur.tree({ habitatId: artifact.habitat_id, augurId: artifact.id })' } }
            .artefact-body
              %span.glyphicon.glyphicon-eye-open
              %h5.title
                {{artifact.name}}

        .th.fact-table{ ng: { if: 'artifact.type == "factTable"', class: 'artifact.colorScheme' }}
          %a{ href: '#/habitat/{{artifact.habitat_id}}/factTables/{{factTable.id}}' }
            .artefact-body
              %span.glyphicon.glyphicon-list-alt
              %h5.title
                {{artifact.name}}
              %p.description
                {{artifact.description}}
