.row.dashboard.action-bar
  .columns.small-12
    %ul.left.action-bar-breadcrumb
      %li
        Dashboard
    %ul.right.action-bar-filter
      %li.divider
      %li{ ng: { class: '{"active" : selectedArtifactTypes.augur}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-augur', ng: { model: 'selectedArtifactTypes.augur'} }
        %label{ for: 'selected-artifact-types-augur' } Augurs
      %li{ ng: { class: '{"active" : selectedArtifactTypes.factTable}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-fact-table', ng: { model: 'selectedArtifactTypes.factTable'} }
        %label{ for: 'selected-artifact-types-fact-table' } Fact tables
      %li{ ng: { class: '{"active" : selectedArtifactTypes.habitat}' } }
        %input{ type: 'checkbox', id: 'selected-artifact-types-habitat', ng: { model: 'selectedArtifactTypes.habitat'} }
        %label{ for: 'selected-artifact-types-habitat' } Habitats
      %li.divider
      %li.action-bar-search
        %input{ placeholder: 'Type to search', type: 'text', ng: { model: 'artifactsQuery' }}

.row.dashboard.container
  .columns.small-12
    %ul.small-block-grid-2.medium-block-grid-3.large-block-grid-4
      %li
        .thx
          %a{ href: '#/augurs/new' }
            .artefact-body.add-augur
              %p
                Add augur
              %p.icon
                %span.glyphicon.glyphicon-plus

      %li{'ng-repeat' => 'artifact in artifacts | filter: artifactsFilter'}
        .thx.habitat{ ng: { if: 'artifact.type == "habitat"', attr: { data: { theme: '{{ artifact.colorScheme }}' }}} }
          %a{ href: '#/habitat/{{habitat.id}}' }
            %h5.title
              {{ artifact.name }}
              %span.glyphicon.glyphicon-picture
            .artefact-body
              %p{ ng: { if: 'artifact.augurCount < 1' } }
                No Augurs
              %p{ ng: { if: 'artifact.augurCount === 1' } }
                One Augur
              %p{ ng: { if: 'artifact.augurCount > 1' } }
                {{ artifact.augurCount }} Augurs


        .thx.augur{ ng: { if: 'artifact.type == "augur"', attr: { data: { theme: '{{ artifact.colorScheme }}' }}} }
          %a{ ui: { sref: 'augur.tree({ habitatId: artifact.habitat_id, augurId: artifact.id })' } }
            %h5.title
              {{artifact.name}}
              %span.glyphicon.glyphicon-eye-open
            .artefact-body
              %dl.description
                %dt KPI
                %dd True positive rate
                %dt Latest evaluation
                %dd 0.6 on 2014/04/15

        .thx.fact-table{ ng: { if: 'artifact.type == "factTable"', attr: { data: { theme: '{{ artifact.colorScheme }}' }} }}
          %a{ href: '#/habitat/{{artifact.habitat_id}}/factTables/{{factTable.id}}' }
            %h5.title
              {{artifact.name}}
              %span.glyphicon.glyphicon-list-alt
            .artefact-body
              %p.description
                {{artifact.description}}
